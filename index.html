<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>JavaScript Data Structures and Algorithms</title>
        <script src="./isPrime.js"></script>
	<script src="./improvedIsPrime.js"></script>
	<script src="./primeFactors.js"></script>
    </head>

    <body>
	<div id="app"></div>
	<h2>Using isPrime() function.</h2>
	<input type="button" value="Check Primatily" onclick=myfunc.checkValue()></input>
	<input id="inputBox" type="text" name="numVal"></input>

	<div id="improvedPrime"></div>
	<h2>Using improvedIsPrime() function.</h2>
	<input type="button" value="Check Primatily" onclick=myfunc.improvedPrime()></input>
	<input id="inputBox2" type="text" name="numVal2"></input>

	<h2>Using primeFactors() function.</h2>
	<div id="pFactors"></div>
	<input type="button" value="compute factors" onclick=myfunc.pFactors()></input>
	<input id="inputBox3" type="text" name="numVal3"></input>


    <script>
	var myfunc = (function(window, document){
	const app = document.getElementById("app");
	const checkPrime = document.getElementById("improvedPrime");
	const pFact = document.getElementById("pFactors");

	var num;

	function checkValue(){
		num = Number(document.getElementById("inputBox").value);

		if(num){
			app.innerHTML = `<h3>You entered ${num} ${ isPrime(Number(num)) ? 'which is prime' : 'not prime' } .</h3>`;
		} 

		num = null;
	}


	function improvedPrime(){
		num = Number(document.getElementById("inputBox2").value);

		if(num){
			checkPrime.innerHTML = `<h3>You entered ${num} ${ improvedIsPrime(Number(num)) ? 'which is prime' : 'not prime' } .</h3>`;
		} 

		num = null;
	}

	function pFactors(){
		num = Number(document.getElementById("inputBox3").value);

		if(num){
			var arr = primeFactors(num);

			pFact.innerHTML = `<h3>Following are the prime factors of ${num}:
			${arr}
				</h3>`;
			num = null;
		}
	}

		return {
			checkValue: checkValue,
			improvedPrime: improvedPrime,
			pFactors: pFactors

		};

	})(window,document);

    </script>
    </body>
</html>
